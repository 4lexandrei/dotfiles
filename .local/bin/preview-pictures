#!/bin/bash

# ┌──────────────────┐
# │ preview-pictures │
# └──────────────────┘
# Preview pictures in fzf with kitty icat

dir=$1
picture_dir="$HOME/Pictures"

dir="${dir:-$picture_dir}"

if [[ ! -d "$picture_dir" ]]; then
  echo "Directory not found: $picture_dir"
  exit 1
fi

find "$dir" -type f -print0 | xargs -0 file --mime-type | grep -F 'image/' | cut -d ':' -f 1 | fzf \
  --preview 'FZF_PREVIEW_IMGS {}'
